<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>狩猟免許試験 訓練所</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ローディング画面 -->
    <div id="loader-wrapper">
        <div class="loader"></div>
        <p>Now Loading...</p>
    </div>

    <!-- トップページ -->
    <div id="top-page-container" style="display: none;">
        <header>
            <div class="logo-container">
                <img src="/images/app-icon.png" alt="ロゴ">
                <h1>狩猟免許試験 訓練所</h1>
            </div>
            <div class="version-info">
                <span>ver. 5.1</span>
            </div>
        </header>
        <main>
            <section class="app-summary">
                <p>
                    狩猟免許取得を目指す方のための支援サイトです。  
                    6種類のクイズに挑戦できます。
                </p>
            </section>
            <section class="quiz-selection">
                <div class="quiz-options">
                    <div class="quiz-card" data-quiz-category="choujuu">
                        <div class="quiz-card-header">
                            <div class="quiz-card-icon">🦌</div>
                            <h3>狩猟鳥獣判別クイズ</h3>
                            <div class="quiz-card-clear-mark"></div>
                        </div>
                        <p>狩猟対象の鳥獣かどうかを判別するクイズです。</p>
                        <div class="quiz-card-footer">
                            <div class="quiz-card-highscore">ハイスコア: ---%</div>
                            <button class="challenge-btn">挑戦する</button>
                        </div>
                    </div>
                    <div class="quiz-card" data-quiz-category="ami">
                        <div class="quiz-card-header">
                            <div class="quiz-card-icon">🕸️</div>
                            <h3>網猟クイズ</h3>
                            <div class="quiz-card-clear-mark"></div>
                        </div>
                        <p>網猟に関する法令や猟具の知識を問うクイズです。</p>
                        <div class="quiz-card-footer">
                            <div class="quiz-card-highscore">ハイスコア: ---%</div>
                            <button class="challenge-btn">挑戦する</button>
                        </div>
                    </div>
                    <div class="quiz-card" data-quiz-category="wana">
                        <div class="quiz-card-header">
                            <div class="quiz-card-icon">🪤</div>
                            <h3>わな猟クイズ</h3>
                            <div class="quiz-card-clear-mark"></div>
                        </div>
                        <p>わな猟に関する法令や猟具の知識を問うクイズです。</p>
                        <div class="quiz-card-footer">
                            <div class="quiz-card-highscore">ハイスコア: ---%</div>
                            <button class="challenge-btn">挑戦する</button>
                        </div>
                    </div>
                    <div class="quiz-card" data-quiz-category="jyu1">
                        <div class="quiz-card-header">
                            <div class="quiz-card-icon">💥</div>
                            <h3>第一種銃猟クイズ</h3>
                            <div class="quiz-card-clear-mark"></div>
                        </div>
                        <p>第一種銃猟に関する知識を問うクイズです</p>
                        <div class="quiz-card-footer">
                            <div class="quiz-card-highscore">ハイスコア: ---%</div>
                            <div class="challenge-buttons-wrapper">
                                <button class="challenge-btn" data-mode="all">挑戦する</button>
                                <button class="challenge-btn cram-mode-btn" data-mode="cram">厳選問題</button>
                            </div>
                        </div>
                    </div>

                    <div class="quiz-card" data-quiz-category="jyu2">
                        <div class="quiz-card-header">
                            <div class="quiz-card-icon">💨</div>
                            <h3>第二種銃猟クイズ</h3>
                            <div class="quiz-card-clear-mark"></div>
                        </div>
                        <p>第二種銃猟に関する知識を問うクイズです。</p>
                        <div class="quiz-card-footer">
                            <div class="quiz-card-highscore">ハイスコア: ---%</div>
                            <button class="challenge-btn">挑戦する</button>
                        </div>
                    </div>
                    <div class="quiz-card" data-quiz-category="beginner">
                        <div class="quiz-card-header">
                            <div class="quiz-card-icon">🔰</div>
                            <h3>猟銃初心者講習用クイズ</h3>
                            <div class="quiz-card-clear-mark"></div>
                        </div>
                        <p>猟銃初心者講習向けの基礎知識を問うクイズです。</p>
                        <div class="quiz-card-footer">
                            <div class="quiz-card-highscore">ハイスコア: ---%</div>
                            <button class="challenge-btn">挑戦する</button>
                        </div>
                    </div>
                </div>
            </section>
            <section class="app-settings">
                <h2>設定</h2>
                <div class="setting-item">
                    <p>すべてのクイズのハイスコアとクリア状況をリセットします。</p>
                    <button id="reset-scores-btn" class="danger-btn">全ハイスコアをリセット</button>
                </div>
            </section>
        </main>
    </div>

    <!-- 通常クイズコンテナ -->
    <div class="quiz-container" id="quiz">
        <div class="quiz-header-bar">
            <button class="back-to-top-btn">← トップに戻る</button>
            <span class="quiz-progress" id="normal-quiz-progress"></span>
        </div>

        <div class="quiz-content-wrapper">
            <div class="quiz-main-content">
                <div class="normal-quiz-image-container" id="normal-quiz-image-container" style="display: none;">
                    <img id="normal-quiz-image" src="" alt="問題の画像">
                </div>
                <h2 id="question">Question text</h2>
                <div id="answer-buttons" class="answer-buttons-grid"></div>
            </div>
            <div class="quiz-footer-content">
                <div class="additional-info-container" id="additional-info-container" style="display: none;">
                    <h4>💡 補足情報</h4>
                    <p id="additional-info-text"></p>
                </div>
                <button id="submit" style="display: none;">次へ</button>
            </div>
        </div>
    </div>

    <!-- 狩猟鳥獣判別クイズコンテナ -->
    <div class="quiz-container-choujuu" id="quiz-choujuu" style="display: none;">
        <div class="quiz-header-bar">
            <button class="back-to-top-btn">← トップに戻る</button>
            <span class="quiz-progress" id="choujuu-quiz-progress"></span>
        </div>
        <div class="choujuu-image-container">
            <img id="choujuu-image" src="" alt="鳥獣の画像">
        </div>
        <div id="choujuu-step1">
            <h2 id="choujuu-question-step1">この鳥獣は捕獲できますか？</h2>
            <div class="choujuu-step1-buttons">
                <button class="choujuu-choice-btn" data-choice="yes">獲れます</button>
                <button class="choujuu-choice-btn" data-choice="no">獲れません</button>
            </div>
        </div>
        <div id="choujuu-step2" style="display: none;">
            <h2 id="choujuu-question-step2">この鳥獣の名前は？</h2>
            <div id="choujuu-name-options" class="answer-buttons-grid"></div>
        </div>
        <div id="choujuu-feedback" class="feedback-container"></div>
        <button id="choujuu-submit" style="display: none;">次の問題へ</button>
    </div>

    <!-- ====================================================== -->
    <!-- ★★★ リザルト画面 (修正版) ★★★ -->
    <!-- ====================================================== -->
    <div id="result-container" style="display: none;">
        <div class="result-header">
            <h2>クイズ結果</h2>
        </div>
        <div class="result-summary">
            <div id="result-message">素晴らしい！</div>
            <div id="result-score">正答率: 100% (3/3問)</div>
        </div>

        <!-- 「おさらい」セクション -->
        <div class="result-details" id="result-details-section">
            <h3>間違えた問題のおさらい</h3>
            <ul id="wrong-questions-list"></ul>
        </div>

        <!-- ★★★ ボタンは、常に、ここに、表示される ★★★ -->
        <div class="result-actions">
            <button id="retry-quiz-btn">もう一度挑戦する</button>
            <button id="back-to-top-from-result-btn">トップに戻る</button>
        </div>
    </div> 
    <!-- ====================================================== -->
    <!-- ★★★ リザルト画面 (修正版) ★★★ -->
    <!-- ====================================================== -->

    <script src="script.js"></script>

</body>
</html>
